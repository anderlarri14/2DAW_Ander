<!doctype html>
<html lang="en" ng-app="miAplicacion">

<head>
    <meta charset="utf-8">
    <title>Ejemplo Angular</title>
    <script src="lib/angular.min.js" type="text/javascript"></script>
    <script src="js/Cargardatos.js" type="text/javascript"></script>
    <link href="css/cargardatos.css" rel="stylesheet" type="text/css" />
    <!-- Importamos los archivos extras que vamos a usar -->

</head>

<body>
    <div ng-controller="mainController">
        <h1>IKASLEEN ZERRENDA</h1>
        <div id="zonalista">

            <ul id="listaalumnos">
                <li ng-repeat="item in lista | filter:TEXTObusqueda">
                    <span class="peque"> {{item.id}} </span>
                    <span class="peque"> {{item.nombre}} </span>
                    <span class="medio"> {{item.apellido1}} </span>
                    <span class="medio"> {{item.apellido2}} </span>
                    <span class="grande"> {{item.id_ziklo}} </span>
                    <span class="grande"> {{item.izen_ziklo}} </span>
                    <span class="peque"> {{item.Curso}} </span>
                    <span class="peque"> <input type="checkbox" ng-model="item.seleccionado" /></span>
                    <span class="peque"> <img src="img/images.jpg" class="txiki" style="cursor: pointer;" ng-click='eliminar($index,item.id)' /></span>
                    <span class="peque"> <img src="img/modif.png" class="txiki" style="cursor: pointer;" ng-click='modificar(item)' /></span>
                </li>
            </ul>
        </div>
        <div id="acciones">
            <div id="izda" ng-show="verAgregaralumno==='true'">
                <form id="formagregar" ng-submit="agregar()">
                    <span> ID</span> <input type="text" ng-model="misdatos.id" disabled /><br>
                    <span>NOMBRE </span> <input type="text" ng-model="misdatos.nombre" /><br>
                    <span> APELLIDO1</span><input type="text" ng-model="misdatos.apellido1" /><br>
                    <span>APELLIDO2</span><input type="text" ng-model="misdatos.apellido2" /><br>
                    <span>CICLO</span>
                    <select ng-options="item.izen_ziklo for item in listaziklos" ng-model="ziklo_select">
                    </select><br>

                    <span>ID_CICLO</span><input type="text" ng-model="ziklo_select.id_ziklo" disabled /><br>
                    <span> CURSO</span>
                    <select name="curso" ng-model="misdatos.Curso" ng-disabled="misdatos.ciclo===''" />
                    <option value="1">primero</option>
                    <option value="2">Segundo</option>
                    </select>

                    <input type="submit" value="Agregar Alumno" />
                    <input type="reset" value="Cancelar" ng-click="cancelar()" />

                </form>
            </div>
            <div id="izda" ng-show="verModificaralumno==='true'">
                <form id="formmodificar" ng-submit="guardar_modificar()">
                    <span> ID</span> <input type="text" ng-model="misdatos.id" disabled /><br>
                    <span>NOMBRE </span> <input type="text" ng-model="misdatos.nombre" /><br>
                    <span> APELLIDO1</span><input type="text" ng-model="misdatos.apellido1" /><br>
                    <span>APELLIDO2</span><input type="text" ng-model="misdatos.apellido2" /><br>
                    <span>CICLO</span>
                    <select ng-options="item.izen_ziklo for item in listaziklos track by item.id_ziklo" ng-value="misdatos.id_ziklo" ng-model="ziklo_select" ng-init="ziklo_select={id_ziklo:misdatos.id_ziklo}">
                    </select><br>
                    <span>ID CICLO </span><input type="text" ng-model="ziklo_select.id_ziklo" disabled/><br>
                    COMBOS
                    <!--       <select name="sfamilia" ng-model="misciclos.familia"  ng-options="nciclo as nciclo.familia for nciclo in ListaCiclos" ng-change="seleccionarCombo1();"/>
                        <option value="">--Elige opcion--</option>
                    </select>
                <div id="SegundoCombo">
            <select name="sciclo" ng-model="misciclos.izena" ng-options="nciclo as nciclo.ciclo for nciclo in combo2" >
                <option value="">--Elige opcion--</option>
            </select>    
                </div>-->


                    <span> CURSO</span>
                    <select name="curso" ng-model="misdatos.Curso" ng-disabled="misdatos.ciclo===''" />
                    <option value="1">primero</option>
                    <option value="2">Segundo</option>
                    </select>
                    <input type="submit" value="Aceptar modificacion" ng-click="modificarboton()" />
                    <input type="reset" value="Cancelar" ng-click="cancelar()" />
                </form>
            </div>
            <div id="dcha" ng-show="VerMenu==='true'">
                <input type="button" value="Alumnonuevo" ng-click="Iniciaragregar()" />
                <input type="button" value="Eliminar Lista" ng-click="Eliminarlista()" />
                <input type="button" value="Eliminar Alumno" ng-click="Eliminaralumno()" />
                <input type="button" value="Buscar" ng-click="Buscar()" />
                <br> <br>

                <form id="formulariobuscar" ng-show="VerFormBusqueda" ng-submit="finbuscar()">
                    Escriba dato a buscar: <input type="text" ng-model="TEXTObusqueda">
                    <input type="submit" value="Finalizar Busqueda" />
                </form>
                <p></p>
            </div>
            <br>

        </div>
    </div>

</body>

</html>